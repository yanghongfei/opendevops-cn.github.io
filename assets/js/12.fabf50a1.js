(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{253:function(e,t,a){"use strict";a.r(t);var r=a(28),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h3",{attrs:{id:"faq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[e._v("#")]),e._v(" FAQ")]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#faq"}},[e._v("FAQ")])]),a("li",[a("a",{attrs:{href:"#邮箱设置问题"}},[e._v("邮箱设置问题")])]),a("li",[a("a",{attrs:{href:"#docker-bulid-报错问题"}},[e._v("Docker Bulid 报错问题")])]),a("li",[a("a",{attrs:{href:"#常见的错误码error-code排错思路"}},[e._v("常见的错误码error code排错思路")])]),a("li",[a("a",{attrs:{href:"#google-authenticator怎么使用"}},[e._v("Google Authenticator怎么使用?")])]),a("li",[a("a",{attrs:{href:"#login界面-登陆后一直自动刷新-闪屏-退出？"}},[e._v("Login界面/登陆后一直自动刷新/闪屏/退出？")])]),a("li",[a("a",{attrs:{href:"#docker内部的mysql、redis无法连接问题"}},[e._v("Docker内部的MySQL、Redis无法连接问题")])]),a("li",[a("a",{attrs:{href:"#网关提示域名gw-opendevops-cn找不到，或者网络不通"}},[e._v("网关提示域名gw.opendevops.cn找不到，或者网络不通")])]),a("li",[a("a",{attrs:{href:"#新部署的系统无法创建user？没办法看到创建-重置-获取token？"}},[e._v("新部署的系统无法创建User？没办法看到创建/重置/获取Token？")])])])]),a("p"),e._v(" "),a("h3",{attrs:{id:"邮箱设置问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#邮箱设置问题"}},[e._v("#")]),e._v(" 邮箱设置问题")]),e._v(" "),a("blockquote",[a("p",[e._v("由于常见的Email有很多，这里列举下最常见的Email设置")])]),e._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[e._v("详细信息")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Q: QQ邮箱怎么设置？")])]),e._v(" "),a("li",[a("p",[e._v("A: QQ邮箱主要注意使用网页生成授权码进行作为密码登陆")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://service.mail.qq.com/cgi-bin/help?id=28&no=167&subtype=1",target:"_blank",rel:"noopener noreferrer"}},[e._v("SMTP地址"),a("OutboundLink")],1),e._v("：smtp.qq.com")]),e._v(" "),a("li",[e._v("SMTP端口：465")]),e._v(" "),a("li",[e._v("SSL加密：True, 开启")]),e._v(" "),a("li",[e._v("用   户: <your_qq>@qq.com")]),e._v(" "),a("li",[e._v("密   码： 授权码（一般为16位）")])])]),e._v(" "),a("li",[a("p",[e._v("Q: 腾讯企业邮箱如何设置？")])]),e._v(" "),a("li",[a("p",[e._v("A: 腾讯企业邮箱同QQ邮箱，唯一一点SMTP服务器不同")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://service.exmail.qq.com/cgi-bin/help?subtype=1&id=28&no=1000585",target:"_blank",rel:"noopener noreferrer"}},[e._v("SMTP地址"),a("OutboundLink")],1),e._v("：smtp.exmail.qq.com")]),e._v(" "),a("li",[e._v("SMTP端口：465")]),e._v(" "),a("li",[e._v("SSL加密：True, 开启")]),e._v(" "),a("li",[e._v("用   户: <your_name>@domain.com")]),e._v(" "),a("li",[e._v("密   码： 授权码（一般为16位）")])])]),e._v(" "),a("li",[a("p",[e._v("Q: 网易163邮箱如何设置？")])]),e._v(" "),a("li",[a("p",[e._v("A: 同上，唯一一点SMTP服务器不同")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://help.163.com/09/1223/14/5R7P3QI100753VB8.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("SMTP地址"),a("OutboundLink")],1),e._v("：smtp.163.com")]),e._v(" "),a("li",[e._v("SMTP端口：465")]),e._v(" "),a("li",[e._v("SSL加密：True, 开启")]),e._v(" "),a("li",[e._v("用   户: <your_name>@163.com")]),e._v(" "),a("li",[e._v("密   码： 授权码（一般为16位）")])])]),e._v(" "),a("li",[a("p",[e._v("Q: Gmail邮箱如何设置？")])]),e._v(" "),a("li",[a("p",[e._v("A: Gmail邮箱考虑到安全，需要注意以下2步")]),e._v(" "),a("ul",[a("li",[e._v("首先开启Google 二步认证")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://support.google.com/mail/answer/185833?hl=zh-Hans",target:"_blank",rel:"noopener noreferrer"}},[e._v("生成Google 应用专用密码"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://support.google.com/mail/answer/7126229?hl=zh-Hans&visit_id=636771670247559816-1235179449&rd=2",target:"_blank",rel:"noopener noreferrer"}},[e._v("SMTP地址"),a("OutboundLink")],1),e._v("：smtp.gmail.com")]),e._v(" "),a("li",[e._v("SMTP端口：465")]),e._v(" "),a("li",[e._v("SSL加密：True, 开启")]),e._v(" "),a("li",[e._v("用   户: <your_name>@gmail.com")]),e._v(" "),a("li",[e._v("密   码： 授权码（一般为16位）")])])])])]),e._v(" "),a("h3",{attrs:{id:"docker-bulid-报错问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-bulid-报错问题"}},[e._v("#")]),e._v(" Docker Bulid 报错问题")]),e._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[e._v("详细信息")]),e._v(" "),a("ul",[a("li",[e._v("安装依赖报错："),a("code",[e._v("Could not install packages due to an EnvironmentError'")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("错误信息：\nStep 10/16 : RUN pip3 install --upgrade pip\n---\x3e Running in 83716c526776\n\nCollecting pip\nDownloading https://files.pythonhosted.org/packages/c2/d7/90f34cb0d83a6c5631cf71dfe64cc1054598c843a92b400e55675cc2ac37/pip-18.1-py2.py3-none-any.whl (1.3MB)\nInstalling collected packages: pip\nFound existing installation: pip 10.0.1\nUninstalling pip-10.0.1:\nSuccessfully uninstalled pip-10.0.1\nCould not install packages due to an EnvironmentError: [Errno 2] No such file or directory: '/tmp/pip-uninstall-y8n2hlf9/usr/local/bin/pip3'\n\nThe command '/bin/sh -c pip3 install --upgrade pip' returned a non-zero code: 1\n")])])]),a("ul",[a("li",[e._v("解决办法：")])]),e._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("\nPython3x版本后Docker里面需要加入--user的参数，修改Dockerfile, 加上--user参数， 如：pip3 "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" --user --upgrade pip\n")])])])]),e._v(" "),a("h3",{attrs:{id:"常见的错误码error-code排错思路"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的错误码error-code排错思路"}},[e._v("#")]),e._v(" 常见的错误码error code排错思路")]),e._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[e._v("详细信息")]),e._v(" "),a("ul",[a("li",[e._v("404：  一般都是自己修改了域名或者配置错误，导致网关转发的时候没办法找到")]),e._v(" "),a("li",[e._v("500：  每个模块服务的后端报错，具体可参看报错模块日志： /var/log/supervisor/")]),e._v(" "),a("li",[e._v("502：  502错误是网关配置错误，请仔细检查网关配置和DNS配置，确保域名正常解析，且能访问。")])])]),e._v(" "),a("h3",{attrs:{id:"google-authenticator怎么使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#google-authenticator怎么使用"}},[e._v("#")]),e._v(" Google Authenticator怎么使用?")]),e._v(" "),a("blockquote",[a("p",[e._v("安全一定是最重要的，相信很多人都知道谷歌身份验证器，这里简单说下Google身份验证器怎么使用, 本平台Google验证码密钥是发送到用户邮箱的。")])]),e._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[e._v("详细信息")]),e._v(" "),a("p",[a("strong",[e._v("下载谷歌验证器")])]),e._v(" "),a("ul",[a("li",[e._v('iOS用户登录AppStore搜索"Authenticator"')]),e._v(" "),a("li",[e._v("安卓用户登录应用商店或利用手机浏览器搜索“谷歌验证器”下载,也可"),a("a",{attrs:{href:"https://www.wandoujia.com/apps/com.google.android.apps.authenticator2",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击下载"),a("OutboundLink")],1)])]),e._v(" "),a("p",[a("strong",[e._v("添加所需网站验证码")])]),e._v(" "),a("p",[a("code",[e._v("PS 由于国内Android多数都被阉割了Google框架，不能扫码的输入手动贴入密钥")])]),e._v(" "),a("ul",[a("li",[e._v("扫描条形码")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/google_auth01.jpg",alt:""}})]),e._v(" "),a("ul",[a("li",[e._v("手动输入密钥")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/google_auth02.jpg",alt:""}})]),e._v(" "),a("p",[a("strong",[e._v("手机丢失怎么办")])]),e._v(" "),a("ol",[a("li",[e._v("你可以搜索你之前的邮件记录，或者自行记录保存下来")]),e._v(" "),a("li",[e._v("对于CODO超级管理员可以登陆数据库自行查看，SQL语法："),a("code",[e._v("select google_key from codo_admin.mg_users where username='codo_test';")])])])]),e._v(" "),a("h3",{attrs:{id:"login界面-登陆后一直自动刷新-闪屏-退出？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#login界面-登陆后一直自动刷新-闪屏-退出？"}},[e._v("#")]),e._v(" Login界面/登陆后一直自动刷新/闪屏/退出？")]),e._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[e._v("详细信息")]),e._v(" "),a("p",[e._v("Q：可以登陆进去，但是一直闪屏刷新/退出？")]),e._v(" "),a("p",[e._v("A：出现这个问题是因为网关"),a("code",[e._v("token_secret")]),e._v("和"),a("code",[e._v("codo-admin")]),e._v("里面"),a("code",[e._v("token_secret")]),e._v("配置不一样，改成一样即可。\n请仔细阅读网关配置中的注册API网关文件 "),a("code",[e._v("configs.lua")]),e._v("这块")])]),e._v(" "),a("h3",{attrs:{id:"docker内部的mysql、redis无法连接问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker内部的mysql、redis无法连接问题"}},[e._v("#")]),e._v(" Docker内部的MySQL、Redis无法连接问题")]),e._v(" "),a("blockquote",[a("p",[e._v("有些同学发现在Docker内部无法连接到外面的MySQL，如下报错，一般都是防火墙引起的，防火墙不能关闭，因为NAT在用，清空掉Filter链 "),a("code",[e._v("iptables -F")]),e._v("或者添加上3306端口尝试下。")])]),e._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[e._v("详细信息")]),e._v(" "),a("p",[a("img",{attrs:{src:"/243fb74c5a73af046696423d6ce7b92.png",alt:""}})])]),e._v(" "),a("h3",{attrs:{id:"网关提示域名gw-opendevops-cn找不到，或者网络不通"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网关提示域名gw-opendevops-cn找不到，或者网络不通"}},[e._v("#")]),e._v(" 网关提示域名gw.opendevops.cn找不到，或者网络不通")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('iptables -F\n### 这个是环境准备时候部署的dnsmasq所在的地址，请睁大眼睛不要写错了\necho "nameserver 127.0.0.1" > /etc/resolv.conf   \nservice dnsmasq restart\nsystemctl restart docker.service\nntpdate ntp1.aliyun.com\n')])])]),a("h3",{attrs:{id:"新部署的系统无法创建user？没办法看到创建-重置-获取token？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新部署的系统无法创建user？没办法看到创建-重置-获取token？"}},[e._v("#")]),e._v(" 新部署的系统无法创建User？没办法看到创建/重置/获取Token？")]),e._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[e._v("详细信息")]),e._v(" "),a("p",[e._v("Q：新部署的时候登陆进去，点击用户列表没办法创建/看不到重置密码/重置MFA按钮等问题？")]),e._v(" "),a("p",[e._v("A：这个问题是因为没有创建角色，默认部署的时候权限/组件数据都是初始化进去的，但是角色需要用户自己创建，用户可以点击"),a("strong",[e._v("用户管理")]),e._v("--\x3e"),a("strong",[e._v("角色管理")]),e._v("  新建一个角色，给所有组件/菜单/权限  然后退出，强刷下浏览器就可以了")]),e._v(" "),a("p",[e._v("操作步骤可参考：https://docs.opendevops.cn/zh/guide/more/permission/")])])])}),[],!1,null,null,null);t.default=s.exports}}]);